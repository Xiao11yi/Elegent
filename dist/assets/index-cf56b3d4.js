import{_ as j,r as i,y as q,z as H,u as J,A as O,B as P,C as S,o as $,a as F,b as V,c as Q,f as a,w as t,d as e,D as m,g as W,G as X,t as u,i as Y,H as Z,I as ee,k as te,h as d,J as se,K as f,m as ae,L as le,M as oe,N as ne,O as ue,v as de,x as re}from"./index-08731fde.js";/* empty css                 *//* empty css                *//* empty css                */import{_ as ce}from"./c-705741c0.js";import{i as ie}from"./userInfo-66ebaf95.js";import{i as _e,a as pe,d as ve}from"./concern-90d87c1c.js";const n=_=>(de("data-v-2b0ada52"),_=_(),re(),_),me={class:"common-layout"},fe=n(()=>e("img",{src:ce,alt:"封面",class:"bg-img"},null,-1)),he=n(()=>e("div",{class:"bg-details"},null,-1)),ge={class:"user-details"},Ie={style:{"font-weight":"1000","font-size":"18px"}},xe=["src"],we={style:{display:"flex","align-items":"start"}},ye={class:"left-personal"},be=n(()=>e("div",{class:"card-header"},[e("span",{style:{"font-weight":"550"}},"他的成就")],-1)),Ce={class:"personal-info-num",style:{margin:"10px 0 0px"}},ke={class:"personal-info"},Ee=n(()=>e("div",{class:"card-header"},[e("span",{style:{"font-weight":"550"}},"他的资料")],-1)),Se=n(()=>e("span",null,"昵称",-1)),Ve=n(()=>e("span",null,"签名",-1)),Ne=n(()=>e("span",null,"邮箱",-1)),Be=n(()=>e("span",null,"性别",-1)),Me={class:"box-card"},De=n(()=>e("span",null,"文章",-1)),Re=n(()=>e("span",null,"关注",-1)),Ue=n(()=>e("span",null,"点赞",-1)),ze=n(()=>e("span",null,"收藏",-1)),Ae={style:{height:"auto","padding-bottom":"10px"}},Te={__name:"index",setup(_){var b,C;const s=i({});i({});const N=q(),p=H(),B=J(),x=O(),h=i(!1);(b=p.params)!=null&&b.id&&sessionStorage.setItem("userId",(C=p.params)==null?void 0:C.id);const r=i(sessionStorage.getItem("userId")),M=()=>{r.value!=""&&r.value!=null&&r.value!=null&&ie(r.value).then(l=>{s.value=l.data})},D=P(()=>r.value==m.get("userId")),w=i(""),y=()=>N.state.user.avatar;w.value=y();const R=i(p.path),g=()=>{x&&_e({followedId:r.value,followersId:m.get("userId")}).then(l=>{h.value=l.data})},U=l=>{pe({followedId:l,followersId:m.get("userId")}).then(o=>{o.data?(f({type:"success",message:"关注成功"}),g()):f({type:"error",message:"操作失败"})}).catch(o=>{console.error("Error adding concern:",o)})},z=l=>{ve({followedId:l,followersId:m.get("userId")}).then(o=>{o.data?(f({type:"success",message:"已取消关注"}),g()):f({type:"error",message:"操作失败"})}).catch(o=>{console.error("Error deleting concern:",o)})};S(()=>p.path,l=>{R.value=l});const A=(l,o)=>{l!="/"&&B.push({path:l,query:{id:r.value,t:Date.now()}})};return $(()=>{M(),g()}),S(y,(l,o)=>{w.value=l},{immediate:!0}),(l,o)=>{const T=ae,I=W,c=le,k=oe,G=ne,v=ue,K=X,L=F("router-view");return V(),Q("div",me,[a(I,{class:"user-info"},{default:t(()=>[fe,he,e("div",ge,[e("p",Ie,u(s.value.userName),1),e("p",null,u(s.value.remark),1)]),e("img",{src:s.value.avatar==""?"/dev-api/profile/avatar_image/avatar.jpg":"/dev-api"+s.value.avatar,alt:"头像",id:"avatar",class:"avatar"},null,8,xe),Y(x)?Z((V(),te(T,{key:0,type:"primary",class:"edit-btn",onClick:o[0]||(o[0]=E=>h.value?z(s.value.userId):U(s.value.userId))},{default:t(()=>[d(u(h.value?"取消关注":"关注"),1)]),_:1},512)),[[ee,!D.value]]):se("",!0)]),_:1}),e("div",we,[e("div",ye,[a(I,null,{header:t(()=>[be]),default:t(()=>[e("div",null,[e("p",Ce,[a(c,null,{default:t(()=>[d(u(s.value.article_count),1)]),_:1}),a(c,null,{default:t(()=>[d(u(s.value.article_count==0?0:s.value.view_count>1e3?Math.floor(s.value.view_count/1e3)+"K":s.value.view_count),1)]),_:1}),a(c,null,{default:t(()=>[d(u(s.value.follow_count),1)]),_:1})]),e("p",ke,[a(c,null,{default:t(()=>[d("文章")]),_:1}),a(c,null,{default:t(()=>[d("浏览")]),_:1}),a(c,null,{default:t(()=>[d("粉丝")]),_:1})])])]),_:1}),a(I,null,{header:t(()=>[Ee]),default:t(()=>[e("div",null,[e("ul",null,[e("li",null,[Se,e("p",null,u(s.value.nickName),1)]),e("li",null,[Ve,e("p",null,u(s.value.remark),1)]),e("li",null,[Ne,e("p",null,u(s.value.email),1)]),e("li",null,[Be,e("p",null,[a(G,{modelValue:s.value.sex,"onUpdate:modelValue":o[1]||(o[1]=E=>s.value.sex=E),disabled:!0},{default:t(()=>[a(k,{label:"0",value:"0"},{default:t(()=>[d("男")]),_:1}),a(k,{label:"1",value:"1"},{default:t(()=>[d("女")]),_:1})]),_:1},8,["modelValue"])])])])])]),_:1})]),e("div",Me,[a(K,{class:"el-menu-demo",mode:"horizontal","background-color":"#fff",onSelect:A},{default:t(()=>[a(v,{index:"/user/"},{default:t(()=>[De]),_:1}),a(v,{index:"/user/concern"},{default:t(()=>[Re]),_:1}),a(v,{index:"/user/liked"},{default:t(()=>[Ue]),_:1}),a(v,{index:"/user/followed"},{default:t(()=>[ze]),_:1})]),_:1}),e("div",Ae,[a(L)])])])])}}},Oe=j(Te,[["__scopeId","data-v-2b0ada52"]]);export{Oe as default};
